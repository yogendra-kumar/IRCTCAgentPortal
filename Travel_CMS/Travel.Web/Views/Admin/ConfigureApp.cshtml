@{
    ViewData["Title"] = "Application Configuration";
}

<section class="content-header">
      <h1>
      @ViewData["Title"]
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Edit Application</li>
      </ol>
      
 </section>

 <section class="content" data-ng-app="mainApp" data-ng-controller="UpdateApplicationController" >
     
 <div class="row">
   <div class="col-md-10">
    <form  class="form-horizontal" novalidate name="ApplicationForm">
    <hr />
    <div class="form-group">
        <label class="col-md-3 control-label">Application Name:</label>
            <span style="color:red">*</span>
        <div class="col-md-8">
            <input type="text" name="appname" maxlength="100" required ng-model="Application.name" class="form-control" />
            <span ng-show="ApplicationForm.appname.$error.required" class="text-danger">
      Mandatory field
    </span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-3 control-label">Domain Url:</label>
        <div class="col-md-8">
            <input type="url" name="domainUrl" ng-model="Application.domainUrl" class="form-control" />
            <span ng-show="ApplicationForm.domainUrl.$dirty && ApplicationForm.domainUrl.$invalid" class="text-danger">
            Domain Url is not valid
            </span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-3 control-label">Domain IP:</label>
        <div class="col-md-8">
            <input type="text" name="domainIP" ng-pattern="/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/" ng-model="Application.domainIP" class="form-control" />
            <span ng-show="ApplicationForm.domainIP.$dirty && ApplicationForm.domainIP.$invalid" class="text-danger">
            IP Address is not valid
            </span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-3 control-label">Footer Layout:</label>
            <span style="color:red">*</span>
        <div class="col-md-8">
            <select ng-model="footerddl" class="form-control">
                    <option ng-disabled="true" value="0">-- Select footer Pan--</option>
                    <option ng-repeat="block in Application.pageBlockList" ng-selected="{{Application.footerId==block.key}}" value="{{block.key}}" >
                    {{block.value}}
                    </option>
                </select>
            <span class="text-danger"></span>
        </div>
    </div>
     <div class="form-group">
        <label class="col-md-3 control-label">Layout:</label>
            <span style="color:red">*</span>
        <div class="col-md-8">
            <select data-ng-model="layoutddl" class="form-control">
                    <option ng-disabled="true" value="0">-- Select Layout--</option>
                    <option ng-repeat="c in Application.layoutList" ng-selected="{{Application.layoutId==c.key}}" value="{{c.key}}" >
                    {{c.value}}
                    </option>
                </select>
            <span class="text-danger"></span>
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-3 control-label">supportEmail:</label>
        <div class="col-md-8">
            <input type="email" name="email" ng-model="Application.supportEmail" class="form-control" />
            <span ng-show="ApplicationForm.email.$dirty && ApplicationForm.email.$invalid" class="text-danger">
      Email is not valid
    </span>
        </div>
    </div>
     <div class="form-group">
        <label class="col-md-3 control-label">Fevicon ImageUrl:</label>
        <div class="col-md-8">
            <span class="btn btn-default btn-file">Browse<input onchange="angular.element(this).scope().setFevFile(this)" ng-model="FavFile" type="file" accept="image/*" /></span>
             <span><img style="max-height:70px;resize:both" ng-src={{Application.favIconImageUrl}} class="img-responsive" /></span>
        </div>
    </div>
    
    <div class="form-group">
        <label class="col-md-3 control-label">Logo:</label>
        <div class="col-md-8">
            <span class="btn btn-default btn-file">Browse<input onchange="angular.element(this).scope().setLogoFile(this)" type="file" accept="image/*" /></span>
             <span style="color:red">*</span>
            <span><img ng-src={{Application.logoImageUrl}} style="max-height:70px;resize:both" class="img-responsive" /></span>
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-6 col-md-12">
            <button type="submit" ng-click="save()" class="btn btn-primary ">Submit</button>
            <button type="submit" class="btn btn-default " ng-click="Back()">Cancel</button>
        </div>
     <modal visible="showModal">
      <span ng-style="{color : (Error)== true ? 'red' : 'green'}">{{Message}}</span>
    </modal>
    <!--Loader-->
	<loading></loading>
    </div>
</form>
            </div>
        </div>
 </section>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28//angular-route.min.js"></script>
  <script type="text/javascript" src="~/SharedFactory.js"></script>
  <script type="text/javascript" src="~/Admin/CMSRoute.js"></script>
  <script src="~/Admin/Application/ApplicationService.js"></script>
  <script type="text/javascript" src="@Url.Content("~/Admin/Application/ApplicationController.js")"></script> 